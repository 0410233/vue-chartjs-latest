"use strict";(self["webpackChunkelife_env"]=self["webpackChunkelife_env"]||[]).push([[614,138],{4614:function(t,s,e){e.r(s),e.d(s,{default:function(){return _}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"goods-category-view",class:t.classList,on:{click:t.onClickExample}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.cateList.length,expression:"cateList.length"}],staticClass:"cate-list-container scroll-view-wrapper"},[s("div",{ref:"cate_list_scroll",staticClass:"scroll-view"},[s("div",{staticClass:"cate-list"},t._l(t.cateList,(function(e,i){return s("div",{key:i,staticClass:"cate",class:t.currentCate===i&&"is-active",on:{click:function(s){t.currentCate=i}}},[t._v(t._s(e.name))])})),0)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.cateList.length,expression:"cateList.length"}],staticClass:"goods-list-container scroll-view-wrapper"},[s("div",{ref:"goods_list_scroll",staticClass:"scroll-view"},["aside"===t.layout&&t.cateList[t.currentCate]?s("span",{staticClass:"goods-cate-name"},[t._v(t._s(t.cateList[t.currentCate].name))]):t._e(),s("div",{staticClass:"goods-list"},t._l(t.goodsList,(function(e,i){return s("div",{key:i,staticClass:"col"},[s("div",{staticClass:"goods"},[t._m(0,!0),s("div",{staticClass:"goods__content"},[t.isShowName?s("div",{staticClass:"goods__name"},[t._v(t._s(e.name))]):t._e(),t.isShowDesc?s("div",{staticClass:"goods__desc"},[t._v(t._s(t.formatHtml(e.content)))]):t._e(),s("div",{staticClass:"goods__bottom"},[t.isShowPrice?s("div",{staticClass:"goods__price"},[t._v(t._s(t.formatPrice(e.price)))]):t._e(),s("svg",{staticClass:"goods__cart",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M940.8 284.8c-16-19.2-38.4-28.8-64-28.8H352c-19.2 0-32 12.8-32 32s12.8 32 32 32h524.8c6.4 0 12.8 3.2 16 6.4 3.2 3.2 6.4 9.6 3.2 19.2l-48 336c0 9.6-12.8 19.2-25.6 19.2H336c-12.8 0-25.6-16-25.6-28.8L256 300.8 227.2 144c-6.4-44.8-44.8-80-92.8-80H96c-19.2 0-32 16-32 32s12.8 32 32 32h38.4c12.8 0 25.6 9.6 28.8 25.6L192 310.4l51.2 371.2c6.4 48 44.8 86.4 89.6 86.4h486.4c44.8 0 83.2-32 89.6-73.6L960 355.2c3.2-25.6-3.2-51.2-19.2-70.4zM259.2 896a64 64 0 1 0 128 0 64 64 0 1 0-128 0zM768 896a64 64 0 1 0 128 0 64 64 0 1 0-128 0z",fill:"currentColor"}})])])])])])})),0)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.cateList.length,expression:"!cateList.length"}],staticClass:"cate-list-container scroll-view-wrapper"},[s("div",{ref:"cate_list_scroll_example",staticClass:"scroll-view"},[t._m(1)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.cateList.length,expression:"!cateList.length"}],staticClass:"goods-list-container scroll-view-wrapper"},[s("div",{ref:"goods_list_scroll_example",staticClass:"scroll-view"},["aside"===t.layout?s("span",{staticClass:"goods-cate-name"},[t._v("示例分类")]):t._e(),s("div",{staticClass:"goods-list"},t._l(8,(function(e){return s("div",{key:e,staticClass:"col"},[s("div",{staticClass:"goods"},[t._m(2,!0),s("div",{staticClass:"goods__content"},[t.isShowName?s("div",{staticClass:"goods__name"},[t._v("这里显示商品名称，最多显示"+t._s("top"===t.layout?1:2)+"行")]):t._e(),t.isShowDesc?s("div",{staticClass:"goods__desc"},[t._v("这里显示商品描述，最多显示1行")]):t._e(),s("div",{staticClass:"goods__bottom"},[t.isShowPrice?s("div",{staticClass:"goods__price"},[t._v(t._s(t.formatPrice(99)))]):t._e(),s("svg",{staticClass:"goods__cart",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M940.8 284.8c-16-19.2-38.4-28.8-64-28.8H352c-19.2 0-32 12.8-32 32s12.8 32 32 32h524.8c6.4 0 12.8 3.2 16 6.4 3.2 3.2 6.4 9.6 3.2 19.2l-48 336c0 9.6-12.8 19.2-25.6 19.2H336c-12.8 0-25.6-16-25.6-28.8L256 300.8 227.2 144c-6.4-44.8-44.8-80-92.8-80H96c-19.2 0-32 16-32 32s12.8 32 32 32h38.4c12.8 0 25.6 9.6 28.8 25.6L192 310.4l51.2 371.2c6.4 48 44.8 86.4 89.6 86.4h486.4c44.8 0 83.2-32 89.6-73.6L960 355.2c3.2-25.6-3.2-51.2-19.2-70.4zM259.2 896a64 64 0 1 0 128 0 64 64 0 1 0-128 0zM768 896a64 64 0 1 0 128 0 64 64 0 1 0-128 0z",fill:"currentColor"}})])])])])])})),0)])])])},a=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"goods__img"},[s("div",{staticClass:"img-wrapper"},[s("div",{staticClass:"img-placeholder"},[s("i",{staticClass:"el-icon-picture"})])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"cate-list"},[s("div",{staticClass:"cate is-active"},[t._v("示例分类")]),s("div",{staticClass:"cate"},[t._v("示例分类")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"goods__img"},[s("div",{staticClass:"img-wrapper"},[s("div",{staticClass:"img-placeholder"},[s("i",{staticClass:"el-icon-picture"})])])])}],c=e(4983),o=e(8138),l=e(1959),r={props:(0,o.getProps)(),data(){return{currentCate:null,goodsList:[]}},computed:{classList(){return["is-"+this.layout]}},watch:{cateList:{handler(t){t.length?(null===this.currentCate&&(this.currentCate=0),this.getProductList()):this.currentCate},immediate:!0},currentCate:{handler(){this.getProductList()},immediate:!0}},mounted(){new c.Z(this.$refs.cate_list_scroll),new c.Z(this.$refs.goods_list_scroll),new c.Z(this.$refs.cate_list_scroll_example),new c.Z(this.$refs.goods_list_scroll_example)},methods:{onClickExample(){this.cateList.length||this.$message.warning("这是示例数据，请选择真实分类")},getProductList(){const t=this.cateList[this.currentCate];if(!t||!t.children||!t.children.length)return void(this.goodsList=[]);const s={page:1,limit:10};!t.showAll&&t.showCount>0&&(s.limit=t.showCount),s.cateId=[t.id,...t.children],(0,l.jw)(s).then((t=>{this.goodsList=t.list}))},formatHtml(t){if(!t)return"";const s=document.createElement("div");return s.innerHTML=t,s.innerText},formatPrice(t){return isNaN(t)?0:Number(t).toFixed(1)}}},n=r,d=e(1001),u=(0,d.Z)(n,i,a,!1,null,"3b4db909",null),_=u.exports},8138:function(t,s,e){e.r(s),e.d(s,{getFormdata:function(){return c},getMeta:function(){return l},getProps:function(){return a},getRules:function(){return r},getWatchers:function(){return o}});var i=e(3721);function a(){return{cateList:{type:Array,default:()=>[]},layout:{type:String,default:"aside"},isShowName:{type:Boolean,default:!0},isShowDesc:{type:Boolean,default:!0},isShowPrice:{type:Boolean,default:!0}}}function c(){const t=(0,i.lN)(a());return t}function o(){const t=(0,i._6)(a());return t}function l(){return{name:"goods-category",label:"商品分类",cate:"basic",limit:100,data:c()}}function r(){return{cateList:{type:"array",required:!0,message:"请选择商品分类",defaultField:{type:"object",fields:{name:{type:"string",required:!0,message:"分类名称不能为空"}}}}}}}}]);
//# sourceMappingURL=614.580ee064.js.map