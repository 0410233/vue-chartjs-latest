{"version":3,"file":"js/222.0771a76d.js","mappings":"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","sources":["webpack://elife-env/./src/page-builder/components/goods-category/Form.vue","webpack://elife-env/./src/page-builder/components/select/CateSelect.vue","webpack://elife-env/src/page-builder/components/select/CateSelect.vue","webpack://elife-env/./src/page-builder/components/select/CateSelect.vue?568a","webpack://elife-env/./src/page-builder/components/select/CateSelect.vue?9178","webpack://elife-env/src/page-builder/components/goods-category/Form.vue","webpack://elife-env/./src/page-builder/components/goods-category/Form.vue?b802","webpack://elife-env/./src/page-builder/components/goods-category/Form.vue?0002","webpack://elife-env/./src/page-builder/components/goods-category/config.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"options cate-list-form\"},[_c('h4',{staticClass:\"options__title\"},[_vm._v(_vm._s(_vm.meta.label))]),_c('el-form',{staticClass:\"options__form\",attrs:{\"model\":_vm.formdata,\"rules\":_vm.rules,\"size\":\"small\",\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"prop\":\"cateList\",\"error\":_vm.errorsmap.cateList,\"label\":\"商品分类：\"}},[_c('draggable',_vm._b({staticClass:\"cate-list\",attrs:{\"tag\":\"div\"},on:{\"input\":_vm.handleCateListChange},model:{value:(_vm.formdata.cateList),callback:function ($$v) {_vm.$set(_vm.formdata, \"cateList\", $$v)},expression:\"formdata.cateList\"}},'draggable',_vm.dragOptions,false),_vm._l((_vm.formdata.cateList),function(cate,index){return _c('div',{key:cate.id,staticClass:\"cate\"},[_c('div',{staticClass:\"cate__header\"},[_c('svg',{staticClass:\"cate__drag\",attrs:{\"viewBox\":\"0 0 36 36\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"currentColor\"}},[_c('circle',{attrs:{\"cx\":\"15\",\"cy\":\"12\",\"r\":\"1.5\"}}),_c('circle',{attrs:{\"cx\":\"15\",\"cy\":\"24\",\"r\":\"1.5\"}}),_c('circle',{attrs:{\"cx\":\"21\",\"cy\":\"12\",\"r\":\"1.5\"}}),_c('circle',{attrs:{\"cx\":\"21\",\"cy\":\"24\",\"r\":\"1.5\"}}),_c('circle',{attrs:{\"cx\":\"21\",\"cy\":\"18\",\"r\":\"1.5\"}}),_c('circle',{attrs:{\"cx\":\"15\",\"cy\":\"18\",\"r\":\"1.5\"}}),_c('path',{attrs:{\"fill\":\"none\",\"d\":\"M0 0h36v36H0z\"}})]),_c('span',{staticClass:\"cate__name\"},[_vm._v(_vm._s(cate.name))]),_c('el-button',{staticClass:\"cate__change ml-auto\",attrs:{\"type\":\"primary\",\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.selectCate(index)}}},[_vm._v(\"修改\")])],1),_c('div',{staticClass:\"cate__field field\"},[_c('label',{staticClass:\"field__label\",attrs:{\"for\":\"\"}},[_vm._v(\"显示数量\")]),_c('el-radio-group',{staticClass:\"ml-auto\",attrs:{\"size\":\"small\"},on:{\"change\":_vm.handleCateListChange},model:{value:(cate.showAll),callback:function ($$v) {_vm.$set(cate, \"showAll\", $$v)},expression:\"cate.showAll\"}},[_c('el-radio-button',{attrs:{\"label\":false}},[_vm._v(\"指定数量\")]),_c('el-radio-button',{attrs:{\"label\":true}},[_vm._v(\"全部商品\")])],1)],1),_c('div',{staticClass:\"cate__field field\"},[_c('label',{staticClass:\"field__label\",attrs:{\"for\":\"\"}},[_vm._v(\"指定数量\")]),_c('el-input-number',{staticClass:\"ml-auto\",attrs:{\"size\":\"small\",\"min\":1,\"max\":100,\"disabled\":cate.showAll},model:{value:(cate.showCount),callback:function ($$v) {_vm.$set(cate, \"showCount\", $$v)},expression:\"cate.showCount\"}})],1),_c('div',{staticClass:\"cate__field field\"},[_c('label',{staticClass:\"field__label\",attrs:{\"for\":\"\"}},[_vm._v(\"菜单名称\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(cate.name),expression:\"cate.name\"}],staticClass:\"field__menu-input el-input__inner\",attrs:{\"type\":\"text\"},domProps:{\"value\":(cate.name)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(cate, \"name\", $event.target.value)},_vm.handleCateListChange]}})]),_c('CloseBtn',{staticClass:\"cate__remove\",on:{\"click\":function($event){return _vm.removeCate(index)}}})],1)}),0),_c('el-button',{staticClass:\"add-cate w-full\",attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.selectCate(null)}}},[_vm._v(\"选择商品分类\")])],1)],1),_c('el-form',{staticClass:\"options__form\",attrs:{\"model\":_vm.formdata,\"size\":\"small\",\"label-position\":\"left\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"布局方式\"}},[_c('div',{staticClass:\"flex items-center w-full\"},[_c('span',{staticClass:\"el-form-item__value\"},[_vm._v(_vm._s(_vm.layoutDisplay[_vm.formdata.layout] || ''))]),_c('el-radio-group',{staticClass:\"ml-auto\",attrs:{\"size\":\"small\"},on:{\"change\":function($event){return _vm.handleChange($event, 'layout')}},model:{value:(_vm.formdata.layout),callback:function ($$v) {_vm.$set(_vm.formdata, \"layout\", $$v)},expression:\"formdata.layout\"}},[_c('el-radio-button',{attrs:{\"label\":\"aside\"}},[_c('svg',{staticClass:\"radio-button-icon\",attrs:{\"viewBox\":\"0 0 1024 1024\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M153.6 153.6h307.2v716.8H153.6zm409.6 0h307.2v307.2H563.2zm0 409.6h307.2v307.2H563.2z\",\"fill\":\"currentColor\"}})])]),_c('el-radio-button',{attrs:{\"label\":\"top\"}},[_c('svg',{staticClass:\"radio-button-icon\",attrs:{\"viewBox\":\"0 0 1024 1024\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M153.6 563.2h307.2v307.2H153.6zm0-409.6h716.8v307.2H153.6zm409.6 409.6h307.2v307.2H563.2z\",\"fill\":\"currentColor\"}})])])],1)],1)]),_c('el-form-item',{attrs:{\"label\":\"商品名称\"}},[_c('div',{staticClass:\"flex items-center w-full\"},[_c('span',{staticClass:\"el-form-item__value\"},[_vm._v(_vm._s(_vm.formdata.isShowName ? '显示' : '不显示'))]),_c('el-switch',{staticClass:\"ml-auto\",on:{\"change\":function($event){return _vm.handleChange($event, 'isShowName')}},model:{value:(_vm.formdata.isShowName),callback:function ($$v) {_vm.$set(_vm.formdata, \"isShowName\", $$v)},expression:\"formdata.isShowName\"}})],1)]),_c('el-form-item',{attrs:{\"label\":\"商品描述\"}},[_c('div',{staticClass:\"flex items-center w-full\"},[_c('span',{staticClass:\"el-form-item__value\"},[_vm._v(_vm._s(_vm.formdata.isShowDesc ? '显示' : '不显示'))]),_c('el-switch',{staticClass:\"ml-auto\",on:{\"change\":function($event){return _vm.handleChange($event, 'isShowDesc')}},model:{value:(_vm.formdata.isShowDesc),callback:function ($$v) {_vm.$set(_vm.formdata, \"isShowDesc\", $$v)},expression:\"formdata.isShowDesc\"}})],1)]),_c('el-form-item',{attrs:{\"label\":\"商品价格\"}},[_c('div',{staticClass:\"flex items-center w-full\"},[_c('span',{staticClass:\"el-form-item__value\"},[_vm._v(_vm._s(_vm.formdata.isShowPrice ? '显示' : '不显示'))]),_c('el-switch',{staticClass:\"ml-auto\",on:{\"change\":function($event){return _vm.handleChange($event, 'isShowPrice')}},model:{value:(_vm.formdata.isShowPrice),callback:function ($$v) {_vm.$set(_vm.formdata, \"isShowPrice\", $$v)},expression:\"formdata.isShowPrice\"}})],1)])],1),_c('CateSelect',{attrs:{\"visible\":_vm.cateSelectorVisible},on:{\"update:visible\":function($event){_vm.cateSelectorVisible=$event},\"change\":_vm.onSelectCate}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"title\":\"选择商品分类\",\"visible\":_vm.dialogVisible,\"width\":\"800px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"records\",attrs:{\"data\":_vm.tableData,\"size\":\"mini\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"分类名\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"label\":\"选择\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.select(scope.row)}}},[_vm._v(\"选择\")])]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog title=\"选择商品分类\" :visible.sync=\"dialogVisible\" width=\"800px\">\r\n    <el-table class=\"records\"\r\n      v-loading=\"loading\"\r\n      :data=\"tableData\"\r\n      size=\"mini\"\r\n    >\r\n      <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\r\n      <el-table-column prop=\"name\" label=\"分类名\" min-width=\"120\"></el-table-column>\r\n      <el-table-column label=\"选择\" width=\"120\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"select(scope.row)\">选择</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\n\r\nexport default {\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      loading: false,\r\n      tableData: [],\r\n    }\r\n  },\r\n  watch: {\r\n    visible: {\r\n      handler(newValue) {\r\n        if (this.dialogVisible !== newValue) {\r\n          this.dialogVisible = newValue\r\n        }\r\n      },\r\n      immediate: true,\r\n    },\r\n    dialogVisible(newValue) {\r\n      if (this.visible !== newValue) {\r\n        this.$emit('update:visible', newValue)\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    foldCates(cates) {\r\n      const map = cates.reduce((res, cate) => {\r\n        cate.children = []\r\n        res[cate.id] = cate\r\n        return res\r\n      }, {})\r\n      const rootCates = cates.reduce((res, cate) => {\r\n        const parent = map[cate.pid]\r\n        if (parent) {\r\n          parent.children.push(cate)\r\n        } else {\r\n          res.push(cate)\r\n        }\r\n        return res\r\n      }, [])\r\n      // console.log({rootCates})\r\n      return rootCates\r\n    },\r\n    getList() {\r\n      // this.loading = true\r\n      // getCateList().then(cates => {\r\n      //   this.tableData = this.foldCates(cates)\r\n      //   this.loading = false;\r\n      // }).catch(() => {\r\n      //   this.loading = false\r\n      // })\r\n    },\r\n    select(cate) {\r\n      this.$emit('change', _.cloneDeep(cate))\r\n      this.dialogVisible = false\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CateSelect.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CateSelect.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CateSelect.vue?vue&type=template&id=716f8d83&scoped=true\"\nimport script from \"./CateSelect.vue?vue&type=script&lang=js\"\nexport * from \"./CateSelect.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"716f8d83\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"options cate-list-form\">\r\n    <h4 class=\"options__title\">{{ meta.label }}</h4>\r\n    <el-form class=\"options__form\"\r\n      :model=\"formdata\"\r\n      :rules=\"rules\"\r\n      size=\"small\"\r\n      label-position=\"top\"\r\n    >\r\n      <el-form-item prop=\"cateList\" :error=\"errorsmap.cateList\" label=\"商品分类：\">\r\n        <draggable tag=\"div\" class=\"cate-list\"\r\n          v-model=\"formdata.cateList\"\r\n          @input=\"handleCateListChange\"\r\n          v-bind=\"dragOptions\"\r\n        >\r\n          <div v-for=\"cate, index in formdata.cateList\" :key=\"cate.id\" class=\"cate\">\r\n            <div class=\"cate__header\">\r\n              <svg class=\"cate__drag\" viewBox=\"0 0 36 36\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\"><circle cx=\"15\" cy=\"12\" r=\"1.5\"/><circle cx=\"15\" cy=\"24\" r=\"1.5\"/><circle cx=\"21\" cy=\"12\" r=\"1.5\"/><circle cx=\"21\" cy=\"24\" r=\"1.5\"/><circle cx=\"21\" cy=\"18\" r=\"1.5\"/><circle cx=\"15\" cy=\"18\" r=\"1.5\"/><path fill=\"none\" d=\"M0 0h36v36H0z\"/></svg>\r\n              <span class=\"cate__name\">{{ cate.name }}</span>\r\n              <el-button class=\"cate__change ml-auto\" type=\"primary\" plain size=\"mini\" @click=\"selectCate(index)\">修改</el-button>\r\n            </div>\r\n            <!-- <div class=\"cate__field field\">\r\n              <label for=\"\" class=\"field__label\">商品数量</label>\r\n              <span class=\"field__value\">{{ cate.productTotal }}</span>\r\n            </div> -->\r\n            <div class=\"cate__field field\">\r\n              <label for=\"\" class=\"field__label\">显示数量</label>\r\n              <el-radio-group class=\"ml-auto\" size=\"small\"\r\n                v-model=\"cate.showAll\"\r\n                @change=\"handleCateListChange\"\r\n              >\r\n                <el-radio-button :label=\"false\">指定数量</el-radio-button>\r\n                <el-radio-button :label=\"true\">全部商品</el-radio-button>\r\n              </el-radio-group>\r\n              <!-- <div class=\"flex items-center\">\r\n                <el-radio v-model=\"cate.showAll\" :label=\"false\">\r\n                  <input class=\"field__count-input el-input__inner\"\r\n                    :class=\"cate.showAll && 'is-disabled'\"\r\n                    type=\"number\"\r\n                    :min=\"1\"\r\n                    :max=\"100\"\r\n                    v-model=\"cate.showCount\"\r\n                    :disabled=\"cate.showAll\"\r\n                  >\r\n                  <span class=\"ml-2px\">个</span>\r\n                </el-radio>\r\n                <el-radio class=\"ml-8px\" v-model=\"cate.showAll\" :label=\"true\">全部</el-radio>\r\n              </div> -->\r\n            </div>\r\n            <div class=\"cate__field field\">\r\n              <label for=\"\" class=\"field__label\">指定数量</label>\r\n              <el-input-number class=\"ml-auto\" size=\"small\"\r\n                v-model=\"cate.showCount\"\r\n                :min=\"1\"\r\n                :max=\"100\"\r\n                :disabled=\"cate.showAll\"\r\n              ></el-input-number>\r\n            </div>\r\n            <div class=\"cate__field field\">\r\n              <label for=\"\" class=\"field__label\">菜单名称</label>\r\n              <input class=\"field__menu-input el-input__inner\" type=\"text\" v-model=\"cate.name\" @input=\"handleCateListChange\">\r\n            </div>\r\n            <CloseBtn class=\"cate__remove\" @click=\"removeCate(index)\"></CloseBtn>\r\n          </div>\r\n        </draggable>\r\n        <el-button class=\"add-cate w-full\"\r\n          type=\"primary\"\r\n          size=\"small\"\r\n          icon=\"el-icon-plus\"\r\n          @click=\"selectCate(null)\"\r\n        >选择商品分类</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-form class=\"options__form\"\r\n      :model=\"formdata\"\r\n      size=\"small\"\r\n      label-position=\"left\"\r\n      label-width=\"80px\"\r\n    >\r\n      <el-form-item label=\"布局方式\">\r\n        <div class=\"flex items-center w-full\">\r\n          <span class=\"el-form-item__value\">{{ layoutDisplay[formdata.layout] || '' }}</span>\r\n          <el-radio-group class=\"ml-auto\" size=\"small\"\r\n            v-model=\"formdata.layout\"\r\n            @change=\"handleChange($event, 'layout')\"\r\n          >\r\n            <el-radio-button label=\"aside\">\r\n              <svg class=\"radio-button-icon\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M153.6 153.6h307.2v716.8H153.6zm409.6 0h307.2v307.2H563.2zm0 409.6h307.2v307.2H563.2z\" fill=\"currentColor\"/></svg>\r\n            </el-radio-button>\r\n            <el-radio-button label=\"top\">\r\n              <svg class=\"radio-button-icon\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M153.6 563.2h307.2v307.2H153.6zm0-409.6h716.8v307.2H153.6zm409.6 409.6h307.2v307.2H563.2z\" fill=\"currentColor\"/></svg>\r\n            </el-radio-button>\r\n          </el-radio-group>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品名称\">\r\n        <div class=\"flex items-center w-full\">\r\n          <span class=\"el-form-item__value\">{{ formdata.isShowName ? '显示' : '不显示' }}</span>\r\n          <el-switch class=\"ml-auto\"\r\n            v-model=\"formdata.isShowName\"\r\n            @change=\"handleChange($event, 'isShowName')\"\r\n          ></el-switch>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品描述\">\r\n        <div class=\"flex items-center w-full\">\r\n          <span class=\"el-form-item__value\">{{ formdata.isShowDesc ? '显示' : '不显示' }}</span>\r\n          <el-switch class=\"ml-auto\"\r\n            v-model=\"formdata.isShowDesc\"\r\n            @change=\"handleChange($event, 'isShowDesc')\"\r\n          ></el-switch>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品价格\">\r\n        <div class=\"flex items-center w-full\">\r\n          <span class=\"el-form-item__value\">{{ formdata.isShowPrice ? '显示' : '不显示' }}</span>\r\n          <el-switch class=\"ml-auto\"\r\n            v-model=\"formdata.isShowPrice\"\r\n            @change=\"handleChange($event, 'isShowPrice')\"\r\n          ></el-switch>\r\n        </div>\r\n      </el-form-item>\r\n    </el-form>\r\n    <CateSelect :visible.sync=\"cateSelectorVisible\" @change=\"onSelectCate\"></CateSelect>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import _ from 'lodash'\r\n// import draggable from \"vuedraggable\"\r\n// import CateSelect from '../select/CateSelect.vue'\r\n// import CloseBtn from '../common/CloseBtn.vue'\r\n// import { getPropDefaultValue } from '../utils'\r\n// import {\r\n//   getProps,\r\n//   getFormdata,\r\n//   getWatchers,\r\n//   getMeta,\r\n// } from './goods-category'\r\n// import useErrors from './mixins/useErrors'\r\n\r\n// export default {\r\n//   mixins: [useErrors],\r\n//   components: {\r\n//     draggable,\r\n//     CateSelect,\r\n//     CloseBtn,\r\n//   },\r\n//   props: getProps(),\r\n//   data() {\r\n//     return {\r\n//       meta: getMeta(),\r\n//       formdata: getFormdata(),\r\n//       errors: {},\r\n//       cateSelectorVisible: false,\r\n//       dragOptions: {\r\n//         sort: true,\r\n//         animation: 150,\r\n//         handle: '.cate__drag',\r\n//       },\r\n//       layoutDisplay: {\r\n//         aside: '左侧菜单',\r\n//         top: '顶部菜单',\r\n//       },\r\n//       currentIndex: null,\r\n//     }\r\n//   },\r\n//   watch: getWatchers(),\r\n//   methods: {\r\n//     /** 修改属性值 */\r\n//     handleChange(value, prop) {\r\n//       // console.log('handleChange', {[prop]: value})\r\n//       this.$emit('change', {[prop]: value})\r\n//     },\r\n//     /** 重置属性值 */\r\n//     reset(prop) {\r\n//       const value = getPropDefaultValue(getProps(), prop)\r\n//       this.handleChange(value, prop)\r\n//     },\r\n//     /** 处理分类列表更新 */\r\n//     handleCateListChange() {\r\n//       this.handleChange(_.cloneDeep(this.formdata.cateList), 'cateList')\r\n//     },\r\n//     /** 显示分类选择弹窗 */\r\n//     selectCate(index) {\r\n//       this.currentIndex = index\r\n//       this.cateSelectorVisible = true\r\n//     },\r\n//     /** 接收选择的分类 */\r\n//     onSelectCate(cate) {\r\n//       // cate = Object.assign({}, cate, {\r\n//       //   showAll: false,\r\n//       //   showCount: 10,\r\n//       //   menu: cate.name,\r\n//       // })\r\n//       cate = {\r\n//         id: cate.id,\r\n//         name: cate.name,\r\n//         showAll: false,\r\n//         showCount: 10,\r\n//         children: cate.children.map(x => x.id),\r\n//       }\r\n//       if (this.currentIndex != null) {\r\n//         this.formdata.cateList.splice(this.currentIndex, 1, cate)\r\n//       } else {\r\n//         this.formdata.cateList.push(cate)\r\n//       }\r\n//       this.handleCateListChange()\r\n//     },\r\n//     /** 移除分类 */\r\n//     removeCate(index) {\r\n//       this.formdata.cateList.splice(index, 1)\r\n//       this.handleCateListChange()\r\n//     },\r\n//     /** 什么都不做 */\r\n//     noop() {},\r\n//   },\r\n// }\r\n\r\nimport _ from 'lodash'\r\nimport draggable from \"vuedraggable\"\r\nimport CateSelect from '../select/CateSelect.vue'\r\nimport CloseBtn from '../common/CloseBtn.vue'\r\nimport { generateFormOptions } from '../utils'\r\nimport * as config from './config'\r\n\r\nexport default generateFormOptions(config, {\r\n  components: {\r\n    draggable,\r\n    CateSelect,\r\n    CloseBtn,\r\n  },\r\n  data() {\r\n    return {\r\n      cateSelectorVisible: false,\r\n      dragOptions: {\r\n        sort: true,\r\n        animation: 150,\r\n        handle: '.cate__drag',\r\n      },\r\n      layoutDisplay: {\r\n        aside: '左侧菜单',\r\n        top: '顶部菜单',\r\n      },\r\n      currentIndex: null,\r\n    }\r\n  },\r\n  methods: {\r\n    /** 处理分类列表更新 */\r\n    handleCateListChange() {\r\n      this.handleChange(_.cloneDeep(this.formdata.cateList), 'cateList')\r\n    },\r\n    /** 显示分类选择弹窗 */\r\n    selectCate(index) {\r\n      this.currentIndex = index\r\n      this.cateSelectorVisible = true\r\n    },\r\n    /** 接收选择的分类 */\r\n    onSelectCate(selected) {\r\n      const cate = {\r\n        id: selected.id,\r\n        name: selected.name,\r\n        showAll: false,\r\n        showCount: 10,\r\n        children: selected.children.map(x => x.id),\r\n      }\r\n      if (this.currentIndex != null) {\r\n        this.formdata.cateList.splice(this.currentIndex, 1, cate)\r\n      } else {\r\n        this.formdata.cateList.push(cate)\r\n      }\r\n      this.handleCateListChange()\r\n    },\r\n    /** 移除分类 */\r\n    removeCate(index) {\r\n      this.formdata.cateList.splice(index, 1)\r\n      this.handleCateListChange()\r\n    },\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" src=\"../../assets/utils.scss\" scoped></style>\r\n<style lang=\"scss\" src=\"../../assets/view-options.scss\" scoped></style>\r\n<style lang=\"scss\" scoped>\r\n.cate-list-form {\r\n\r\n  .cate-list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-top: 8px;\r\n  }\r\n\r\n  .cate {\r\n    // padding: 12px;\r\n    width: 100%;\r\n    padding-bottom: 12px;\r\n    font-size: 14px;\r\n    background: #f7f7f7;\r\n    position: relative;\r\n    margin-bottom: 8px;\r\n\r\n    &__header {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 6px;\r\n      padding-right: 12px;\r\n\r\n      position: relative;\r\n\r\n      &::after {\r\n        content: \"\";\r\n        display: block;\r\n        height: 1px;\r\n        position: absolute;\r\n        left: 12px;\r\n        right: 12px;\r\n        bottom: 0;\r\n        background: #d9d9d9;\r\n      }\r\n    }\r\n\r\n    &__drag {\r\n      flex: none;\r\n      width: 28px;\r\n      height: 100%;\r\n      color: #999999;\r\n      cursor: move;\r\n    }\r\n\r\n    &__remove {\r\n      position: absolute;\r\n      right: 0;\r\n      top: 0;\r\n      opacity: 0;\r\n      transform: translate(45%, -45%);\r\n      z-index: -1;\r\n    }\r\n\r\n    &:hover .cate__remove {\r\n      z-index: 1;\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  .field {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 12px;\r\n    margin: 16px 0 0;\r\n\r\n    &__label {\r\n      flex: none;\r\n      width: 72px;\r\n      color: #515151;\r\n    }\r\n\r\n    ::v-deep .el-radio {\r\n      display: inline-flex;\r\n      align-items: center;\r\n    }\r\n\r\n    &__count-input {\r\n      width: 60px;\r\n      height: 30px;\r\n      padding: 0 6px;\r\n      // border: none;\r\n      // box-shadow: none;\r\n\r\n      &.is-disabled {\r\n        background-color: #f5f7fa;\r\n        border-color: #e4e7ed;\r\n        color: #c0c4cc;\r\n        cursor: not-allowed;\r\n      }\r\n    }\r\n\r\n    &__menu-input {\r\n      flex: 1;\r\n      height: 30px;\r\n      padding:  0 6px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=422b40e8&scoped=true\"\nimport script from \"./Form.vue?vue&type=script&lang=js\"\nexport * from \"./Form.vue?vue&type=script&lang=js\"\nimport style0 from \"../../assets/utils.scss?vue&type=style&index=0&id=422b40e8&prod&lang=scss&scoped=true&external\"\nimport style1 from \"../../assets/view-options.scss?vue&type=style&index=1&id=422b40e8&prod&lang=scss&scoped=true&external\"\nimport style2 from \"./Form.vue?vue&type=style&index=2&id=422b40e8&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"422b40e8\",\n  null\n  \n)\n\nexport default component.exports","import { generateFormdata, generateWatchers } from '../utils'\r\n\r\n/**\r\n * @typedef {object} Category\r\n * @property {number} id - 页面路径\r\n * @property {string} name - 分类名\r\n * @property {boolean} showAll - 是否显示全部\r\n * @property {number} showCount - 不显示全部时，指定显示商品数\r\n * @property {number[]} children - 子类 id 列表\r\n */\r\n\r\n/** 组件属性 */\r\nexport function getProps() {\r\n  return {\r\n    /**\r\n     * 商品分类\r\n     * @type {Category[]}\r\n     */\r\n    cateList: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    /** 布局方式 = {aside:左侧,top:顶部} */\r\n    layout: {\r\n      type: String,\r\n      default: 'aside',\r\n    },\r\n    /** 是否显示名称 */\r\n    isShowName: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    /** 是否显示描述 */\r\n    isShowDesc: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    /** 是否显示价格 */\r\n    isShowPrice: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  }\r\n}\r\n\r\n/** 表单数据 */\r\nexport function getFormdata() {\r\n  const formdata = generateFormdata(getProps())\r\n  return formdata\r\n}\r\n\r\n/** 监听器 */\r\nexport function getWatchers() {\r\n  const watchers = generateWatchers(getProps())\r\n  return watchers\r\n}\r\n\r\n/** 元数据 */\r\nexport function getMeta() {\r\n  return {\r\n    name: 'goods-category',\r\n    label: '商品分类',\r\n    cate: 'basic',\r\n    // count: 0,\r\n    limit: 100,\r\n    data: getFormdata(),\r\n  }\r\n}\r\n\r\n/** 验证规则 */\r\nexport function getRules() {\r\n  return {\r\n    cateList: {\r\n      type: 'array',\r\n      required: true,\r\n      message: '请选择商品分类',\r\n      defaultField: {\r\n        type: 'object',\r\n        fields: {\r\n          name: {type: 'string', required: true, message: '分类名称不能为空'},\r\n        }\r\n      },\r\n    }\r\n  }\r\n}\r\n\r\n// /** 生成提交数据 */\r\n// export function generateSubmitData(formdata) {\r\n//   const data = clone(formdata)\r\n//   data.cateList = data.cateList.map(cate => {\r\n//     return {\r\n//       id: cate.id,\r\n//       menu: cate.menu,\r\n//       showAll: cate.showAll,\r\n//       showCount: cate.showCount,\r\n//     }\r\n//   })\r\n//   return data\r\n// }\r\n"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","_v","_s","meta","label","attrs","formdata","rules","errorsmap","cateList","_b","on","handleCateListChange","model","value","callback","$$v","$set","expression","dragOptions","_l","cate","index","key","id","name","$event","selectCate","showAll","showCount","directives","rawName","domProps","target","composing","removeCate","layoutDisplay","layout","handleChange","isShowName","isShowDesc","isShowPrice","cateSelectorVisible","onSelectCate","staticRenderFns","dialogVisible","loading","tableData","scopedSlots","_u","fn","scope","select","row","props","visible","type","Boolean","default","data","watch","handler","newValue","immediate","$emit","created","getList","methods","foldCates","cates","map","reduce","res","children","rootCates","parent","pid","push","_","component","generateFormOptions","config","components","draggable","CateSelect","CloseBtn","sort","animation","handle","aside","top","currentIndex","selected","x","splice","getProps","Array","String","getFormdata","generateFormdata","getWatchers","watchers","generateWatchers","getMeta","limit","getRules","required","message","defaultField","fields"],"sourceRoot":""}